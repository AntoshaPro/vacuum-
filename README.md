# Telegram Thanks Extractor (Экстрактор благодарностей из Telegram)

Это приложение позволяет искать сообщения с благодарностями в ваших диалогах Telegram и пересылать их в другие чаты.

## Архитектура

Проект представляет собой монорепозиторий с двумя основными компонентами:

- **backend/** - FastAPI + Telethon (Python)
- **frontend/** - React + TypeScript (Vite)

## Установка и запуск

### Через Docker (рекомендуется)

1. Убедитесь, что у вас установлены Docker и Docker Compose
2. Выполните команду:

```bash
docker-compose up --build
```

После запуска:
- Backend будет доступен по адресу http://localhost:8000
- Frontend будет доступен по адресу http://localhost:5173

### Локальный запуск

#### Backend

1. Установите зависимости:

```bash
cd backend
pip install -r requirements.txt
```

2. Запустите сервер:

```bash
cd backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000
```

#### Frontend

1. Установите зависимости:

```bash
cd frontend
npm install
```

2. Запустите сервер разработки:

```bash
cd frontend
npm run dev
```

## Настройка

Для работы приложения требуются учетные данные Telegram API:

1. Получите `TG_API_ID` и `TG_API_HASH` на https://my.telegram.org
2. Создайте файл `.env` в корне проекта на основе `.env.example`:
   ```bash
   cp .env.example .env
   ```
3. Отредактируйте файл `.env`, указав свои значения:
   ```bash
   TG_API_ID=ваш_api_id
   TG_API_HASH=ваш_api_hash
   ```

При запуске через Docker передайте переменные окружения:
```bash
TG_API_ID=ваш_api_id TG_API_HASH=ваш_api_hash docker-compose up --build
```

Альтернативно, вы можете настроить API-ключи через веб-интерфейс после запуска приложения.

## Использование

1. Запустите приложение (через Docker или локально)
2. Введите свои API ID и Hash в разделе "Конфигурация" (если не были заданы через .env)
3. Настройте ключевые слова для поиска благодарностей
4. Запустите поиск с нужными параметрами дат
5. Просмотрите результаты и выберите сообщения для отправки
6. Укажите получателя и режим отправки (переслать или скопировать)

## API Endpoints

- `GET /api/status` - статус приложения
- `GET /api/config` - получить конфигурацию
- `POST /api/config` - обновить конфигурацию
- `GET /api/keywords` - получить ключевые слова
- `POST /api/keywords` - обновить ключевые слова
- `POST /api/search` - запустить поиск благодарностей
- `POST /api/send` - отправить выбранные сообщения

## Особенности

- Приложение использует сессию Telegram для сохранения авторизации между запусками
- Все комментарии в коде написаны на русском языке
- Все тексты в интерфейсе на русском языке
- Поддержка поиска по диапазону дат
- Возможность ограничения количества сообщений на диалог
- Режимы отправки: пересылка и копирование
